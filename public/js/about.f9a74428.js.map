{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","src","alt","type","for","googleAuth","id","placeholder","email","password","style","loginUser","to","name","computed","get","this","$store","state","authentication","set","value","commit","methods","dispatch","$router","push","gapi","window","clientId","apiKey","discoveryDocs","scope","load","client","init","then","auth2","getAuthInstance","isSignedIn","googleUserProfile","currentUser","loginApiCall","signIn","catch","err","alert","data","getBasicProfile","getId","beforeRouteLeave","from","next","render"],"mappings":"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","file":"js/about.f9a74428.js","sourcesContent":["<template>\n    <div class=\"login\">\n        <div class=\"container-fluid h-custom\">\n            <div\n                class=\"\n                    row\n                    d-flex\n                    justify-content-center\n                    align-items-center\n                    h-100\n                \"\n            >\n                <div class=\"col-md-9 col-lg-6 col-xl-5 mb-lg-0 mb-3\">\n                    <img src=\"/img/login.svg\" class=\"img-fluid\" alt=\"\" />\n                </div>\n                <div class=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1 mt-0\">\n                    <form>\n                        <div\n                            class=\"\n                                d-flex\n                                flex-row\n                                align-items-center\n                                justify-content-center justify-content-lg-start\n                            \"\n                        >\n                            <p class=\"lead fw-normal mb-0 me-3\">Sign in with</p>\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-floating mx-1\"\n                                @click=\"googleAuth\"\n                            >\n                                <i class=\"fab fa-google\"></i>\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-floating mx-1\"\n                            >\n                                <i class=\"fab fa-twitter\"></i>\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-floating mx-1\"\n                            >\n                                <i class=\"fab fa-linkedin-in\"></i>\n                            </button>\n                        </div>\n\n                        <div class=\"divider d-flex align-items-center my-4\">\n                            <p class=\"fw-bold mx-auto mb-0\">Or</p>\n                        </div>\n\n                        <!-- Email input -->\n                        <div class=\"form-outline mb-4\">\n                            <input\n                                type=\"email\"\n                                id=\"form3Example3\"\n                                class=\"form-control form-control-lg\"\n                                placeholder=\"Enter a valid email address\"\n                                v-model=\"email\"\n                            />\n                            <label class=\"form-label\" for=\"form3Example3\"\n                                >Email address</label\n                            >\n                        </div>\n\n                        <!-- Password input -->\n                        <div class=\"form-outline mb-3\">\n                            <input\n                                type=\"password\"\n                                id=\"form3Example4\"\n                                class=\"form-control form-control-lg\"\n                                placeholder=\"Enter password\"\n                                v-model=\"password\"\n                            />\n                            <label class=\"form-label\" for=\"form3Example4\"\n                                >Password</label\n                            >\n                        </div>\n\n                        <div\n                            class=\"\n                                d-flex\n                                justify-content-between\n                                align-items-center\n                            \"\n                        >\n                            <!-- Checkbox -->\n                            <div class=\"form-check mb-0\">\n                                <input\n                                    class=\"form-check-input me-2\"\n                                    type=\"checkbox\"\n                                    value=\"\"\n                                    id=\"form2Example3\"\n                                />\n                                <label\n                                    class=\"form-check-label\"\n                                    for=\"form2Example3\"\n                                >\n                                    Remember me\n                                </label>\n                            </div>\n                            <a href=\"#!\" class=\"text-body\">Forgot password?</a>\n                        </div>\n\n                        <div class=\"text-center text-lg-start mt-4 pt-2\">\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-lg shadow\"\n                                style=\"\n                                    padding-left: 2.5rem;\n                                    padding-right: 2.5rem;\n                                \"\n                                @click=\"loginUser\"\n                            >\n                                Login\n                            </button>\n\n                            <p class=\"small fw-bold mt-2 pt-1 mb-0\">\n                                Don't have an account?\n                                <router-link\n                                    class=\"link-danger\"\n                                    :to=\"{ name: 'Signup' }\"\n                                    >Register</router-link\n                                >\n                            </p>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Login\",\n    computed: {\n        email: {\n            get() {\n                return this.$store.state.authentication.email;\n            },\n            set(value) {\n                this.$store.commit(\"updateEmail\", value);\n            },\n        },\n        password: {\n            get() {\n                return this.$store.state.authentication.password;\n            },\n            set(value) {\n                this.$store.commit(\"updatePassword\", value);\n            },\n        },\n    },\n    methods: {\n        async loginUser() {\n            await this.$store.dispatch(\"loginUser\")\n            this.$router.push({name: 'Home'})\n        },\n        googleAuth() {\n            let gapi = window.gapi;\n            let clientId =\n                \"411090437304-fu48s86i0ogqi39s3kdhemofenpu43s5.apps.googleusercontent.com\";\n            let apiKey = \"AIzaSyCL5wgTn_3_V67pG6lQiK-WdVr2a305wus\";\n            let discoveryDocs = [\n                \"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest\",\n            ];\n            let scope = \"https://www.googleapis.com/auth/drive.metadata.readonly\";\n            gapi.load(\"client:auth2\", () => {\n                gapi.client\n                    .init({\n                        apiKey,\n                        clientId,\n                        discoveryDocs,\n                        scope,\n                    })\n                    .then(() => {\n                        if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n                            this.googleUserProfile = gapi.auth2\n                                .getAuthInstance()\n                                .currentUser.get();\n                            this.loginApiCall(this.googleUserProfile);\n                            // console.log(\"logged in...\");\n                        } else {\n                            gapi.auth2\n                                .getAuthInstance()\n                                .signIn()\n                                .then(() => {\n                                    this.googleUserProfile = gapi.auth2\n                                        .getAuthInstance()\n                                        .currentUser.get();\n                                    this.loginApiCall(this.googleUserProfile);\n                                    // console.log(\"NOT logged in...\");\n                                })\n                                .catch((err) => {\n                                    alert(`Google auth error: ${err}`);\n                                });\n                        }\n                    })\n                    .catch((err) => {\n                        alert(err);\n                    });\n            });\n        },\n        async loginApiCall(data) {\n            // API call to handle googleUserProfile data\n            // then redirect to home/profile page\n            await this.$store.dispatch(\"loginUserFromGoogle\",data.getBasicProfile().getId())\n            this.$router.push(\"/\");\n        },\n    },\n    beforeRouteLeave(to,from,next) {\n        this.$store.commit(\"resetStates\");\n        next();\n    }\n}\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=0d09e95b\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}